#!/usr/bin/env python

from rdflib import Graph,Namespace,URIRef
from rdflib.namespace import RDF
import hashlib
import sys
from config import VOCAB_BASE
from os.path import abspath,dirname

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print "usage: %s <package definition>" % (sys.argv[0])
        exit(1)

    STARCH = Namespace(VOCAB_BASE)
    g = Graph()
    g.parse(sys.argv[1], format='turtle')
    
    # is there a Package described by this file?
    for s in g.subjects(STARCH.describedBy, URIRef('file://' + abspath(sys.argv[1]))):
        print s

